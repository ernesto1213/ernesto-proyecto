<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Inicio - Mantenimiento Naval</title>
  <link rel="stylesheet" href="style.css">
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#023e8a">
  <link rel="icon" href="icons/icon-192.png" type="image/png">
</head>
<body>
  <header class="header">
    <h1>âš“ Mantenimiento Naval</h1>
    <nav>
      <button id="loginBtn">Iniciar SesiÃ³n</button>
      <button id="registerBtn">Registrarme</button>
    </nav>
  </header>

  <section class="hero">
    <h2>Soluciones integrales para el mantenimiento de embarcaciones</h2>
    <p>Gestiona tus cursos, inspecciones y servicios tÃ©cnicos desde un solo lugar.</p>
    <button id="verServicios">Ver Servicios</button>
  </section>

  <section class="servicios" id="servicios">
    <h2>ğŸš¢ Nuestros Servicios</h2>
    <div class="cards">
      <div class="card">
        <h3>ğŸ§° Mantenimiento Preventivo</h3>
        <p>Planifica y lleva el control del mantenimiento regular de motores y sistemas elÃ©ctricos.</p>
      </div>

      <div class="card">
        <h3>ğŸ“‹ Evaluaciones y Cursos</h3>
        <p>Capacita al personal tÃ©cnico con cursos interactivos y evalÃºa su conocimiento.</p>
      </div>

      <div class="card">
        <h3>âš™ï¸ DiagnÃ³stico de Sistemas</h3>
        <p>Realiza diagnÃ³sticos automÃ¡ticos de sistemas navales y genera reportes en tiempo real.</p>
      </div>

      <div class="card">
        <h3>ğŸ“¦ GestiÃ³n de Repuestos</h3>
        <p>Administra tu inventario de piezas y componentes esenciales para tus embarcaciones.</p>
      </div>
    </div>
  </section>

  <footer>
    <p>Â© 2025 Mantenimiento Naval | Desarrollado por Ernesto LÃ³pez</p>
  </footer>

  <script src="script.js"></script>

  <script>
    // ğŸ§  Si el usuario ya iniciÃ³ sesiÃ³n, lo mandamos directo al menÃº
    const usuario = JSON.parse(localStorage.getItem('usuario'));
    if (usuario && usuario.token) {
      console.log("ğŸ‘¤ SesiÃ³n detectada, redirigiendo...");
      window.location.href = "menu/menu.html";
    }

    // ğŸ”„ Registrar Service Worker
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('service-worker.js')
        .then(reg => {
          console.log('âœ… Service Worker registrado');
          reg.onupdatefound = () => {
            const newWorker = reg.installing;
            newWorker.onstatechange = () => {
              if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                console.log('âš¡ Nueva versiÃ³n disponible, recargando...');
                window.location.reload();
              }
            };
          };
        })
        .catch(err => console.error('âŒ Error al registrar el Service Worker:', err));
    }
  </script>
</body>
</html>
